
<p-table [value]="projects" dataKey="title" responsiveLayout="scroll">
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 3rem"></th>
      <th pSortableColumn="title">Title <p-sortIcon field="title"></p-sortIcon></th>
      <th pSortableColumn="title">Donation <p-sortIcon field="donation"></p-sortIcon></th>
      <th>image</th>
      <th pSortableColumn="amountNeeded">Amount Needed <p-sortIcon field="amountNeeded"></p-sortIcon></th>
      <th pSortableColumn="category">Category <p-sortIcon field="category"></p-sortIcon></th>
      <th pSortableColumn="place">Place <p-sortIcon field="place"></p-sortIcon></th>
      <th pSortableColumn="isDone">IsDne <p-sortIcon field="isDone"></p-sortIcon></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-project let-expanded="expanded">
    <tr>
      <td>
        <button type="button" pButton pRipple [pRowToggler]="project" class="p-button-text p-button-rounded p-button-plain" [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></button>
      </td>
      <td>{{project.title}}</td>
      <td>{{project.donations}}</td>
      <td><img [src]="project.image" [alt]="project.title" width="100" class="shadow-4" /></td>
      <td>{{project.amountNeeded}}</td>
      <td>{{project.category}}</td>
      <td>{{project.place}}</td>
      <td>{{project.isDone}}</td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-data>
    <tr>
      <td colspan="7">
        <div class="p-3">
          <p-table [value]="data.donations" dataKey="id">
            <ng-template pTemplate="header">
              <tr>
                <th pSortableColumn="id">Id <p-sortIcon field="id"></p-sortIcon></th>
                <th pSortableColumn="name">Donor <p-sortIcon field="donor"></p-sortIcon></th>
<!--                <th pSortableColumn="date">Amount <p-sortIcon field="date"></p-sortIcon></th>-->
                <th pSortableColumn="amount">Amount <p-sortIcon field="amount"></p-sortIcon></th>
                <th style="width: 4rem"></th>
              </tr>
            </ng-template>
            <ng-template pTemplate="body" let-donation>
              <tr>
                <td>{{donation.id}}</td>
                <td>{{donation.donor}}</td>
<!--                <td>{{donation.purchasedat}}</td>-->
                <td>{{donation.amount}}</td>
              </tr>
            </ng-template>
            <ng-template pTemplate="emptymessage">
              <tr>
                <td colspan="6">There are no donation for this project</td>
              </tr>
            </ng-template>
          </p-table>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
